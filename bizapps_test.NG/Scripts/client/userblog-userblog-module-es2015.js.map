{"version":3,"sources":["./src/app/userblog/createblog/createblog.component.html","./src/app/userblog/userblog.component.html","./src/app/userblog/createblog/createblog.component.css","./src/app/userblog/createblog/createblog.component.ts","./src/app/userblog/userblog-routing.module.ts","./src/app/userblog/userblog.component.css","./src/app/userblog/userblog.component.ts","./src/app/userblog/userblog.module.ts"],"names":[],"mappings":"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","file":"userblog-userblog-module-es2015.js","sourcesContent":["export default \"<div id=\\\"divCreateBlog\\\" class=\\\"main-container\\\">\\n    <form [formGroup]=\\\"createBlogForm\\\" (ngSubmit)=\\\"createBlog(createBlogForm.value)\\\">\\n            <h4>Create your blog here</h4><br /><br />\\n            <span>Blog title</span>\\n            <input id=\\\"textBlogTitle\\\" name=\\\"BlogTitle\\\" type=\\\"text\\\" /><br />\\n            <button class=\\\"buttonOnWhitePanel\\\" type=\\\"submit\\\">Create</button>\\n            <span id=\\\"blogcreation-message\\\" style=\\\"color: red\\\"></span>\\n            <span id=\\\"blogcreationValidationMessage\\\" class=\\\"validation-message\\\" >Blog Title can't be empty!</span> \\n    </form>\\n</div>\\n\"","export default \"<div id=\\\"userblog\\\">\\n    <div id=\\\"divEditBlog\\\" >\\n        <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\">\\n            <li [class.active]=\\\"activeTabId=='blog'\\\" class=\\\"tab\\\"><a (click)=\\\"showTab('blog')\\\">Blog info</a></li>\\n            <li [class.active]=\\\"activeTabId=='post'\\\" class=\\\"tab\\\"><a (click)=\\\"showTab('post')\\\">Posts</a></li>\\n            <li [class.active]=\\\"activeTabId=='category'\\\" class=\\\"tab\\\"><a (click)=\\\"showTab('category')\\\">Categories</a></li>\\n        </ul>\\n        <div class=\\\"main-container\\\">\\n\\n            <div [class.hidden]=\\\"activeTabId!='blog'\\\" id=\\\"blog\\\" class=\\\"div-tab\\\">\\n                <input id=\\\"blogid\\\" type=\\\"hidden\\\" data-bind=\\\"value: ViewModelsKO.EditableBlogViewModel.blogId\\\" />\\n                <span>Your blog: </span>\\n                <p>\\n                    <button class=\\\"glyph-btn\\\" (click)=\\\"toggleEditMod()\\\"><i class=\\\"glyphicon glyphicon-pencil\\\"></i>...</button>\\n                    <span [class.hidden]=\\\"editModIsEnabled\\\" id=\\\"spanBlogTitle\\\">{{userBlog.BlogTitle}}</span>\\n                    <input [class.hidden]=\\\"editModIsEnabled==false\\\" id=\\\"textEditableBlogTitle\\\" type=\\\"text\\\" style=\\\"width: 100px;\\\" [(ngModel)]=\\\"userBlog.BlogTitle\\\" />\\n                    <button [class.hidden]=\\\"editModIsEnabled==false\\\" id=\\\"btnSaveBlog\\\" class=\\\"glyph-btn btn-save\\\" (click)=\\\"updateBlog()\\\">Save</button>\\n                    <span id=\\\"blogTitleValidationMessage\\\" class=\\\"validation-message\\\">Blog Title can't be empty!</span>\\n                </p>\\n\\n                <a routerLink=\\\"/blog/{{userBlog.Id}}\\\" class=\\\"buttonOnWhitePanel\\\">Review</a>\\n                <button class=\\\"btn btn-danger\\\">Delete</button>\\n            </div>\\n\\n            <div [class.hidden]=\\\"activeTabId!='post'\\\" id=\\\"posts\\\"  class=\\\"div-tab\\\">\\n                <h4>Your posts:</h4>\\n                <ul class=\\\"CategoryList\\\">\\n                    <li *ngFor=\\\"let post of userBlog.BlogPosts\\\">\\n                        <input class=\\\"hidden-postid\\\" type=\\\"hidden\\\" [value]=\\\"post.Id\\\" />\\n                        <button class=\\\"glyph-btn\\\" onclick=\\\"PostCRUD.EnablePostEditing($(this));\\\" data-toggle=\\\"editpost\\\"><i class=\\\"glyphicon glyphicon-pencil\\\"></i>...</button>\\n                        <button class=\\\"glyph-btn\\\" onclick=\\\"PostCRUD.DeletePost($(this));\\\"><i class=\\\"glyphicon glyphicon-trash\\\"></i></button>\\n                        <span>{{post.PostTitle}}</span>\\n                    </li>\\n                </ul>\\n                <a onclick=\\\"PostCRUD.EnablePostCreation($(this));\\\" data-toggle=\\\"editpost\\\" style=\\\"cursor: pointer;\\\">To post creation...</a>\\n            </div>\\n        \\n            <div [class.hidden]=\\\"activeTabId!='category'\\\" id=\\\"categories\\\" style=\\\"display: none;\\\" class=\\\"div-tab\\\" >\\n                <h4>Your categories:</h4>\\n                <ul class=\\\"CategoryList\\\">\\n                    <li *ngFor=\\\"let category of userBlog.BlogCategories\\\">\\n                        <input class=\\\"hidden-categoryid\\\" type=\\\"hidden\\\" [value]=\\\"category.Id\\\" />\\n                        <button class=\\\"glyph-btn\\\" onclick=\\\"CategoryCRUD.EnableCategoryEditing($(this));\\\"><i class=\\\"glyphicon glyphicon-pencil\\\"></i>...</button>\\n                        <button class=\\\"glyph-btn\\\" onclick=\\\"CategoryCRUD.DeleteCategory($(this));\\\"><i class=\\\"glyphicon glyphicon-trash\\\"></i></button>\\n                        <span class=\\\"span-categoryname\\\">{{category.CategoryName}}</span>\\n                        <input class=\\\"text-categoryedit\\\" type=\\\"text\\\" style=\\\"width: 100px;\\\" [(ngModel)]=\\\"category.CategoryName\\\"/>\\n                        <button class=\\\"glyph-btn btn-save\\\" style=\\\"display: none;\\\" onclick=\\\"CategoryCRUD.SaveCategoryChanges($(this));\\\">Save</button>\\n                        <span class=\\\"category-validation-message validation-message\\\">Category Name can't be empty!</span>\\n                    </li>\\n                </ul><br/>\\n                     <p style=\\\"margin-bottom: 0; padding-bottom: 5px; padding-top: 5px;\\\">\\n                         <b> <label>Category name:</label> </b>\\n                         <input id=\\\"textCategoryName\\\" type=\\\"text\\\" class=\\\"textboxPostTitle\\\" style=\\\"width: 250px;\\\" />\\n                         <button id=\\\"ButtonCreateCategory\\\" onclick=\\\"CategoryCRUD.CreateCategory();\\\" class=\\\"buttonOnWhitePanel\\\">Create</button>\\n                         <span id=\\\"spanCategoryErrorMessage\\\" class=\\\"validation-message\\\">Category Name can't be empty!</span>\\n                     </p>\\n               \\n                \\n            </div>\\n\\n        </div>\\n    </div>\\n\\n</div>\\n\"","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VzZXJibG9nL2NyZWF0ZWJsb2cvY3JlYXRlYmxvZy5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { CookieService } from 'ngx-cookie-service';\nimport { Router } from '@angular/router';\nimport { BlogService } from 'src/app/Services/blog/blog.service';\nimport { Blog } from 'src/app/Models/Blog';\nimport { User } from 'src/app/Models/User';\n\n@Component({\n  selector: 'app-createblog',\n  templateUrl: './createblog.component.html',\n  styleUrls: ['./createblog.component.css']\n})\nexport class CreateblogComponent implements OnInit {\n\n  createBlogForm;\n\n  constructor(\n    private cookieService: CookieService,\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private blogService: BlogService\n  ) { \n    this.createBlogForm = this.formBuilder.group({\n      BlogTitle: ''\n    });\n  }\n\n  ngOnInit() {\n\n    let userId = this.cookieService.get(\"userid\");\n    this.blogService.GetBlogByUserID(userId).subscribe((result: Blog)=>{\n      if(result!=null){\n        this.router.navigate([\"/blog\"]);\n      }\n    })\n  }\n\n  createBlog(blogData){\n    let blogTitle = blogData.BlogTitle;\n    let userId = this.cookieService.get(\"userid\");\n    if(userId!=\"\"){\n\n      let blogDto = new Blog();\n      blogDto.BlogTitle = blogTitle;\n      let user = new User();\n      user.Id = parseInt(userId, 10);\n      blogDto.CreatedBy = user;\n      this.blogService.CreateBlog(blogDto).subscribe((result: boolean)=>{\n        if(result){\n          this.router.navigate([\"/blog\"])\n        }\n      });\n\n    } else {\n      this.router.navigate([\"\"]);\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { UserblogComponent } from './userblog.component';\r\nimport { CreateblogComponent } from './createblog/createblog.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  { path: 'blog', component: UserblogComponent },\r\n  { path: 'createblog', component: CreateblogComponent }\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class UserblogRoutingModule { }","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3VzZXJibG9nL3VzZXJibG9nLmNvbXBvbmVudC5jc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { Blog } from '../Models/Blog';\nimport { BlogService } from '../Services/blog/blog.service';\nimport { Router } from '@angular/router';\nimport { CookieService } from 'ngx-cookie-service';\n\n@Component({\n  selector: 'app-userblog',\n  templateUrl: './userblog.component.html',\n  styleUrls: ['./userblog.component.css']\n})\nexport class UserblogComponent implements OnInit {\n\n  userBlog: Blog;\n  activeTabId: string = \"blog\";\n  userId: number | string;\n  editModIsEnabled: boolean = false;\n\n  constructor(\n    private blogService: BlogService,\n    private router: Router,\n    private cookieService: CookieService\n  ) {\n      this.userId = cookieService.get(\"userid\");\n   }\n\n  ngOnInit() {\n\n    if(this.userId!=\"\"){\n      this.blogService.GetBlogByUserID(this.userId).subscribe( (data: Blog) => {\n        this.userBlog = { ...data };\n  \n        if(this.userBlog.Id == undefined || 0){\n          this.router.navigate(['/createblog']);\n         }});\n    } else {\n      this.router.navigate(['']);\n    }\n    \n  }\n\n  showTab(tabId: string){\n      this.activeTabId = tabId;\n  }\n\n  toggleEditMod(){\n    this.editModIsEnabled = !this.editModIsEnabled;\n  }\n\n\n  updateBlog(){\n    this.blogService.UpdateBlog(this.userBlog).subscribe(\n      (result: boolean) =>{\n        if(result){\n          this.editModIsEnabled = false;\n        }\n      }\n    );\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { UserblogComponent } from './userblog.component';\nimport { UserblogRoutingModule } from './userblog-routing.module';\nimport { BlogService } from '../Services/blog/blog.service';\nimport { FormsModule } from '@angular/forms';\nimport { CreateblogComponent } from './createblog/createblog.component';\n\n\n\n@NgModule({\n  declarations: [UserblogComponent, CreateblogComponent],\n  imports: [\n    CommonModule,\n    UserblogRoutingModule,\n    FormsModule\n  ],\n  providers: [BlogService]\n})\nexport class UserblogModule { }\n"],"sourceRoot":"webpack:///"}