
@using bizapps_test.MVC.Models
@model bizapps_test.MVC.Models.PostViewModel

@{
    ViewBag.Title = "Post creation";
    Layout = "~/Views/Shared/_Layout.cshtml";
   
}
  
<div class="PostViewContainer">
    @using (Html.BeginForm("CreateUpdatePostDo", "Admin", FormMethod.Post))
    {
        <p>
            <b> <label>Choose post image:</label> </b>
            <label> @Html.TextBoxFor(postimage => postimage.PostImage, new { type = "file" }) </label>
        </p> <br />
        <p style="margin-bottom: 0; padding-bottom: 5px; padding-top: 5px;">
            <b> <label>Input post title:</label> </b>
            @Html.EditorFor(item => item.Title, new { htmlAttributes = new { @class = "textboxPostTitle" } })
            @Html.ValidationMessageFor(item => item.Title)
        </p>
        <br />
        <b> <label></label>Input post content: </b> @Html.ValidationMessageFor(item => item.Body)<br />

        @Html.EditorFor(item => item.Body,  new { htmlAttributes = new { @class = "divBodyHolder preBodyHolder" } })

        <br />
        <div id="CategoryCheckBoxPanel" class="CategoryCheckBoxPanel">
            @for (int i = 0; i < Model.Categories.Length; i++)
            {
                <label>
                    @Html.CheckBoxFor(item => item.Categories[i].IsChecked)
                    @Html.DisplayFor(category => category.Categories[i].CategoryName)
                    @Html.HiddenFor(category => category.Categories[i].Id)
                </label> @Html.Raw("  ")
            }
            @Html.HiddenFor(id=>id.Id)
        </div>

        <input type="submit" id="ButtonCreatePost" value="Save changes" class="buttonOnWhitePanel" />
    }
        @using (Html.BeginForm("DeletePost", "Admin", FormMethod.Post))
        {
            if (Model.Id != 0)
            {
                <br/>
                <input type="submit" id="ButtonDeletePost" value="Delete Post" onclick="return confirm('Are you sure you want to delete this post? You cannot undo this action.')" class="btn btn-danger" />
            }
            @Html.HiddenFor(id=>id.Id)
         }
    

</div>
